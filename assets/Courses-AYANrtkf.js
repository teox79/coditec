import{j as e}from"./utils-vendor-Bf7-9Ar_.js";import{r}from"./calendar-vendor-BsH2YPuT.js";import{u as f,s as C,b as N,g as S,d as F}from"./index-Cb9iUYGU.js";import{P as w,A as D}from"./PageTitle-Ddfmc8QH.js";import{C as b}from"./Courses-Cz4xqBH0.js";import"./react-vendor-gH-7aFTg.js";import"./ui-vendor-bfTGIgzS.js";const T=({filters:t,onFilterChange:i,setSelectedFilters:m})=>{const{state:n}=f(),{ui:o}=n,[l,d]=r.useState(void 0),[a,u]=r.useState(void 0),h=s=>{const c=s.target.value||void 0;d(c),i({category:c})},v=s=>{const c=s.target.value?parseInt(s.target.value):void 0;u(c),i({year:c})},x=()=>{d(void 0),u(void 0),m({category:void 0,year:void 0}),i({category:void 0,year:void 0})},g=l||a;return e.jsxs("div",{className:"container my-4",children:[e.jsxs("div",{className:"row g-3",children:[o.courseUi?.filters.showCaregory&&e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-floating",children:[e.jsxs("select",{className:"form-select",id:"categoryFilter",value:l||"",onChange:h,children:[e.jsx("option",{value:"all",children:"Tutte le categorie"}),t.categories.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("label",{htmlFor:"categoryFilter",children:"Categorie"})]})}),o.courseUi?.filters.showYear&&e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"form-floating",children:[e.jsxs("select",{className:"form-select",id:"yearFilter",value:a||"",onChange:v,children:[e.jsx("option",{value:"0",children:"Tutti gli anni"}),t.years.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("label",{htmlFor:"yearFilter",children:"Anni"})]})})]}),g&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs("button",{className:"btn btn-outline-primary reset-filter",onClick:x,children:[e.jsx("i",{className:"bi bi-arrow-counterclockwise"}),"Resetta Filtri"]})})]})},Y=({courseList:t})=>{const[i,m]=r.useState([]),[n,o]=r.useState([]),[l,d]=r.useState({categories:[],years:[]}),[a,u]=r.useState({category:void 0,year:void 0}),[h,v]=r.useState("asc"),x=()=>{v(s=>s==="asc"?"desc":"asc")},g=s=>{const c=s.category==="all"?void 0:s.category||a.category,p=s.year===0?void 0:s.year||a.year,j=i?.filter(y=>p?new Date(y.startDate||"").getFullYear()===p:!0)?.filter(y=>c?y.category===c:!0);(a.category!==c||a.year!==p)&&u({category:c||void 0,year:p||void 0}),o(j?.length?j:[])};return r.useEffect(()=>{(async()=>{m(t||[]),o(t||[]),d(N(t||[]))})()},[]),r.useEffect(()=>{console.log("SORT"),o(C(t||[],h))},[h]),r.useEffect(()=>{a.category||a.year?g({category:a.category,year:a.year}):o(t||[])},[a]),e.jsxs("div",{children:[e.jsx(T,{filters:l,onFilterChange:g,setSelectedFilters:u}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container my-4",children:e.jsx("div",{className:"row g-3",children:e.jsx("div",{className:"text-left mt-3",children:e.jsx("button",{className:"btn btn-outline-secondary",onClick:x,children:h==="asc"?e.jsx("i",{className:"bi bi-sort-alpha-up"}):e.jsx("i",{className:"bi bi-sort-alpha-down"})})})})}),e.jsx(b,{courses:n,showDate:!1,isHistory:!0})]})]})},k=({courseList:t})=>e.jsx("div",{children:t&&e.jsx(e.Fragment,{children:e.jsx(b,{courses:t})})}),U=()=>{const{state:t}=f(),{course:i}=t,m=[{label:"Home",url:"/"},{label:"Corsi",url:""}],[n,o]=r.useState("upcoming"),l=S(i.courses||[],new Date,"asc"),d=F(i.courses||[],"desc");return e.jsxs("main",{className:"main",children:[e.jsx(w,{description:i.description||"",title:i.title||"",breadcrumbs:m,alignDescription:D.Left}),e.jsxs("div",{className:"container mt-5",children:[e.jsxs("ul",{className:"nav nav-tabs",id:"coursesTabs",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="upcoming"?"active":""}`,id:"upcoming-tab","data-bs-toggle":"tab",role:"tab",onClick:()=>o("upcoming"),children:"Prossimi Corsi"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="history"?"active":""}`,id:"history-tab","data-bs-toggle":"tab",role:"tab",onClick:()=>o("history"),children:"Storico Corsi"})})]}),e.jsxs("div",{className:"tab-content mt-3",id:"coursesTabsContent",children:[e.jsxs("div",{className:`tab-pane fade ${n==="upcoming"?"show active":""}`,id:"upcoming",role:"tabpanel",children:[e.jsx("div",{className:"container my-4",children:e.jsx("p",{children:"I corsi che proponiamo sono pensati per offrire formazione di qualità e aggiornamento continuo su tematiche attuali e rilevanti. Scopri le nostre proposte e scegli il percorso più adatto alle tue esigenze: ogni corso è progettato per garantire competenze pratiche e teoriche, con il supporto di mentor esperti e materiali didattici aggiornati."})}),e.jsx(k,{courseList:l})]}),e.jsxs("div",{className:`tab-pane fade ${n==="history"?"show active":""}`,id:"history",role:"tabpanel",children:[e.jsx("div",{className:"container my-4",children:e.jsx("p",{children:"Di seguito sono riportati i corsi che possono essere richiesti per nuove sessioni. Se sei interessato, contattaci per ulteriori informazioni e dettagli specifici."})}),e.jsx(Y,{courseList:d})]})]})]})]})};export{U as default};
