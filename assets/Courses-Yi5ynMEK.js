import{j as a}from"./utils-vendor-CNmrptEw.js";import{r as h}from"./calendar-vendor-BsH2YPuT.js";import{u as S,f as z}from"./index-y2G5oVmP.js";const _=({title:p="",subtitle:f="",courses:d=[],showDate:b=!0,isHistory:g=!1})=>{const[N,v]=h.useState({}),[u,j]=h.useState({}),{state:$}=S(),{ui:y,footer:w}=$,{contactInfo:l}=w;h.useEffect(()=>{const e=async(t,n,x)=>{const c=x.map(async m=>{const o=m[n];try{const r=`${t}${o}`,i=new Image;return i.src=r,await new Promise((E,C)=>{i.onload=()=>E(i),i.onerror=()=>C(new Error(`Failed to load image at ${r}`))}),{[o]:i.src}}catch(r){return console.error(`Failed to load image for path: ${o}`,r),{[o]:""}}});try{return(await Promise.all(c)).reduce((r,i)=>({...r,...i}),{})}catch(m){return console.error("Error loading images:",m),{}}};(async()=>{const t=await e(`${y.globalUi.baseUrl}assets/img/courses/`,"imgSrc",d);v(n=>({...n,...t}))})()},[d]);const I=e=>{j(s=>({...s,[e]:!0}))},k=e=>{j(s=>({...s,[e]:!1}))};return a.jsxs("section",{id:"courses",className:"courses section",children:[p&&f&&a.jsxs("div",{className:"container section-title","data-aos":"fade-up",children:[a.jsx("h2",{children:p}),a.jsx("p",{children:f})]}),a.jsx("div",{className:"container",children:a.jsxs("div",{className:"row",children:[d.map((e,s)=>{const t=`Richiesta Informazioni ${e.title}`,n=N[e.imgSrc],x=n?.replace(/\.\w+$/,".gif");return a.jsx("div",{className:"col-lg-4 col-md-6 d-flex align-items-stretch","data-aos":"zoom-in","data-aos-delay":e.delay,children:a.jsxs("div",{className:"d-flex flex-column course-item",style:{cursor:e.detail?"pointer":"default"},children:[a.jsx("a",{href:e.detail?`#/course/${e.id}`:"#",target:e.detail?"_blank":void 0,onClick:c=>{e.detail||c.preventDefault()},children:a.jsx("img",{src:u[e.id]?x:n,alt:e.title,onMouseEnter:()=>I(e.id),onMouseLeave:()=>k(e.id)})}),a.jsxs("div",{className:"flex-fill d-flex flex-column course-content",children:[a.jsxs("a",{className:"flex-fill",href:e.detail?`#/course/${e.id}`:"#",target:e.detail?"_blank":void 0,onClick:c=>{e.detail||c.preventDefault()},children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("p",{className:"category",children:e.category}),e.price&&a.jsxs("p",{className:"price",children:["Prezzo a partire da: ",e.price]})]}),a.jsxs("div",{className:"description description-info",children:[b&&a.jsxs("p",{className:"",children:[a.jsx("i",{className:"bi bi-calendar"})," ",a.jsx("span",{children:z(e.startDate)})]}),!g&&l.address&&a.jsxs("p",{className:"description-info-map",onClick:()=>window.open(l.maps,"_blank"),children:[a.jsx("i",{className:"bi bi-geo-alt"})," ",a.jsx("span",{children:`${l.address} ${l.city}`})]})]}),a.jsx("h3",{children:e.title}),a.jsx("p",{className:"flex-fill description",children:e.description})]}),t&&g&&a.jsx("a",{className:"generic-btn generic-btn-large",href:`mailto:${l.email}?subject=${t}&body=Salve,%20ho%20bisogno%20di%20maggiori%20informazioni.`,target:"_blank",children:"Contattaci"}),!g&&a.jsx("div",{style:{textAlign:"center"},children:e?.registration?.isOpen?a.jsx("a",{className:"generic-btn generic-btn-large",href:e?.registration?.url,target:"_blank",children:"Iscriviti"}):a.jsx("span",{className:"course-registration-info",children:"Le iscrizioni apriranno a breve"})})]})]})},s)}),d.length===0&&a.jsx("div",{className:"col text-center",children:a.jsx("h3",{children:"Non ci sono corsi disponibili"})})]})})]})};export{_ as C};
